<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Clean Ledger DCA Management System - README</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 2rem;
      background-color: #f7f7f7;
      color: #333;
    }
    h1, h2, h3 {
      color: #1e40af;
    }
    code {
      background-color: #e5e7eb;
      padding: 2px 5px;
      border-radius: 3px;
    }
    pre {
      background-color: #e5e7eb;
      padding: 10px;
      border-radius: 5px;
      overflow-x: auto;
    }
    ul {
      margin-bottom: 1rem;
    }
    li {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>Clean Ledger DCA Management System</h1>
  <p>This project is a dashboard for viewing and prioritizing customer data based on their due days and amount. Priority is calculated in the backend, while status comes from the CSV uploaded.</p>

  <h2>Folder Structure</h2>
  <ul>
    <li><code>frontend/</code> - React app containing <code>FedexViewSection</code> component</li>
    <li><code>backend/</code> - Node.js server with Python integration</li>
    <li><code>ai/case_prioritization.py</code> - Python script for calculating priority</li>
  </ul>

  <h2>CSV Format</h2>
  <p>The CSV uploaded should contain the following columns:</p>
  <pre>
customer_name,address,phone,amount,due_days,status
Arun Kumar,Chennai,9876543210,45000,12,Unpaid
Priya Sharma,Bangalore,9876543211,32000,20,Unpaid
  </pre>
  <p><strong>Note:</strong> Do not include <code>priority</code>; it will be generated by the backend.</p>

  <h2>Backend (Python + Node.js)</h2>
  <ol>
    <li>Python script <code>case_prioritization.py</code> reads CSV, calculates <code>priority</code> based on <code>amount</code> and <code>due_days</code>, and outputs JSON.</li>
    <li>Node.js backend uses <code>multer</code> to handle CSV uploads and <code>child_process.exec</code> to call Python script.</li>
    <li>Backend returns JSON containing all fields including <code>priority</code>.</li>
  </ol>

  <h2>Frontend (React)</h2>
  <ul>
    <li>Upload CSV using file input.</li>
    <li>Call backend API <code>/upload</code> to process CSV.</li>
    <li>Display table with <code>customer_name</code>, <code>address</code>, <code>phone</code>, <code>amount</code>, <code>due_days</code>, <code>status</code>, and <code>priority</code>.</li>
    <li>Filter data by status using buttons: <code>All</code>, <code>Partially Paid</code>, <code>Unpaid</code>.</li>
    <li>Export filtered data to CSV using the "Export" button.</li>
  </ul>

  <h2>How to Run</h2>
  <h3>Backend</h3>
  <pre>
# Navigate to backend folder
cd backend

# Install dependencies
npm install express multer cors

# Start backend
node server.js
  </pre>

  <h3>Frontend</h3>
  <pre>
# Navigate to frontend folder
cd frontend

# Install dependencies
npm install react-router-dom lucide-react

# Start frontend
npm start
  </pre>

  <h2>Usage</h2>
  <ol>
    <li>Open the frontend in browser (usually <code>http://localhost:3000</code>).</li>
    <li>Go to the "View" section.</li>
    <li>Upload CSV file with customer data.</li>
    <li>Table will display all data with priority calculated by backend.</li>
    <li>Use filter buttons to filter by status.</li>
    <li>Click "Export" to download filtered data as CSV.</li>
  </ol>

  <h2>Notes</h2>
  <ul>
    <li>Ensure Python is installed and accessible in system PATH.</li>
    <li>Backend must be running before uploading CSV from frontend.</li>
    <li>Priority logic is handled entirely by Python; frontend just displays it.</li>
  </ul>
</body>
</html>
